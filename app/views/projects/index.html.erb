<h4>プロジェクト一覧</h4>

<%= form_with(model: @project_search_form, url: root_path, method: :get, local: true, class: 'form-inline') do |f| %>
  <div class="form-group">
    <%= f.label :keyword, 'キーワード', class: 'form-label' %>
    <%= f.text_field :keyword, id: 'project_search_form_keyword', class: 'form-control' %>
  </div>
  <div class="keyword-targets">
    <p class="form-label">検索対象</p>
    <div class="form-group">
      <label class="target-label">
        <%= f.check_box :project %>
        プロジェクト名
      </label>
      <label class="target-label">
        <%= f.check_box :customer %>
        顧客名
      </label>
      <label class="target-label">
        <%= f.check_box :member %>
        メンバー名
      </label>
    </div>
  </div>

  <div class="form-actions">
    <input type="submit" value="検索" class="btn btn-primary">
  </div>
<% end %>

<table class="table table-bordered">
  <thead>
    <tr class="info">
      <td>顧客名</td>
      <td>プロジェクト名</td>
      <td>メンバー名</td>
    </tr>
  </thead>
  <tbody>
    <% @projects.each do |project| %>
      <tr>
        <td><%= project.customer.name %></td>
        <td><%= project.name %></td>
        <td><%= project.member_names.join(', ') %></td>
      </tr>
    <% end %>
  </tbody>
</table>
